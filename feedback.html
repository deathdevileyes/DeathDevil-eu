<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Server Bewertung â€“ DeathDevil.Eu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="background:#111;color:white;text-align:center;padding-top:100px;">

<h1>Server Bewertung</h1>

<form id="ratingForm">
  <input type="text" id="name" placeholder="Ingame Name" required><br><br>
  <select id="stars">
    <option value="5">5 - Fabelhaft</option>
    <option value="4">4 - Sehr gut</option>
    <option value="3">3 - Gut</option>
    <option value="2">2 - Geht so</option>
    <option value="1">1 - Schlecht</option>
  </select><br><br>

  <button type="submit">Absenden</button>
</form>

<p id="output"></p>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function(){

  const firebaseConfig = {
    apiKey: "AIzaSyCnOCp8Ue6c728ndQLz4WJ--o4I2wI1QKU",
    authDomain: "bewertungen-deathdevileu.firebaseapp.com",
    projectId: "bewertungen-deathdevileu"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  document.getElementById("ratingForm").addEventListener("submit", function(e){
    e.preventDefault();

    const name = document.getElementById("name").value;
    const stars = document.getElementById("stars").value;

    db.collection("bewertungen").add({
      name: name,
      stars: stars,
      created: new Date()
    })
    .then(function(){
      document.getElementById("output").innerText = "Gespeichert!";
    })
    .catch(function(error){
      document.getElementById("output").innerText = "Fehler: " + error.message;
      console.error(error);
    });

  });

});
</script>

</body>
</html>
